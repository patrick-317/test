{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getInsurancePayments,approveInsurancePayment,rejectInsurancePayment}from'../api/api.js';// API 함수 임포트\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManagePayouts=()=>{const[payouts,setPayouts]=useState([]);// 요청 목록\nconst[selectedPayout,setSelectedPayout]=useState(null);// 선택된 요청\n// 보험금 지급 요청 조회\nconst fetchPayouts=async()=>{try{const response=await getInsurancePayments();// API 호출\nsetPayouts(response);// 데이터 설정\n}catch(error){console.error('Failed to fetch payouts:',error);alert('보험금 지급 요청 조회에 실패했습니다.');}};// 승인 처리\nconst handleApprove=async payoutId=>{try{await approveInsurancePayment(payoutId);// API 호출\nalert('지급 요청이 승인되었습니다.');fetchPayouts();// 갱신\n}catch(error){console.error('Failed to approve payout:',error);alert('승인 처리에 실패했습니다.');}};// 거절 처리\nconst handleReject=async payoutId=>{try{await rejectInsurancePayment(payoutId);// API 호출\nalert('지급 요청이 거절되었습니다.');fetchPayouts();// 갱신\n}catch(error){console.error('Failed to reject payout:',error);alert('거절 처리에 실패했습니다.');}};// 컴포넌트가 마운트될 때 지급 요청 조회\nuseEffect(()=>{fetchPayouts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uBCF4\\uD5D8\\uAE08 \\uC9C0\\uAE09 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC9C0\\uAE09 \\uC694\\uCCAD \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC694\\uCCAD ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uACE0\\uAC1D ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uBCF4\\uD5D8 ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC9C0\\uAE09 \\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD0DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC561\\uC158\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:payouts.map(payout=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:payout.id}),/*#__PURE__*/_jsx(\"td\",{children:payout.customerId}),/*#__PURE__*/_jsx(\"td\",{children:payout.insuranceId}),/*#__PURE__*/_jsx(\"td\",{children:payout.paymentDate}),/*#__PURE__*/_jsx(\"td\",{children:payout.status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPayout(payout),children:\"\\uC0C1\\uC138 \\uBCF4\\uAE30\"})})]},payout.id))})]})]}),selectedPayout&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC694\\uCCAD \\uC0C1\\uC138\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC694\\uCCAD ID:\"}),\" \",selectedPayout.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uACE0\\uAC1D ID:\"}),\" \",selectedPayout.customerId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uBCF4\\uD5D8 ID:\"}),\" \",selectedPayout.insuranceId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC9C0\\uAE09 \\uB0A0\\uC9DC:\"}),\" \",selectedPayout.paymentDate]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC9C0\\uAE09 \\uAE08\\uC561:\"}),\" \",selectedPayout.amount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC0C1\\uD0DC:\"}),\" \",selectedPayout.status]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApprove(selectedPayout.id),children:\"\\uC2B9\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReject(selectedPayout.id),children:\"\\uAC70\\uC808\"})]})]});};export default ManagePayouts;","map":{"version":3,"names":["React","useState","useEffect","getInsurancePayments","approveInsurancePayment","rejectInsurancePayment","jsx","_jsx","jsxs","_jsxs","ManagePayouts","payouts","setPayouts","selectedPayout","setSelectedPayout","fetchPayouts","response","error","console","alert","handleApprove","payoutId","handleReject","children","map","payout","id","customerId","insuranceId","paymentDate","status","onClick","amount"],"sources":["/Users/patrick/git/test/front-employee/src/pages/ManagePayouts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  getInsurancePayments,\n  approveInsurancePayment,\n  rejectInsurancePayment,\n} from '../api/api.js'; // API 함수 임포트\n\nconst ManagePayouts = () => {\n  const [payouts, setPayouts] = useState([]); // 요청 목록\n  const [selectedPayout, setSelectedPayout] = useState(null); // 선택된 요청\n\n  // 보험금 지급 요청 조회\n  const fetchPayouts = async () => {\n    try {\n      const response = await getInsurancePayments(); // API 호출\n      setPayouts(response); // 데이터 설정\n    } catch (error) {\n      console.error('Failed to fetch payouts:', error);\n      alert('보험금 지급 요청 조회에 실패했습니다.');\n    }\n  };\n\n  // 승인 처리\n  const handleApprove = async (payoutId) => {\n    try {\n      await approveInsurancePayment(payoutId); // API 호출\n      alert('지급 요청이 승인되었습니다.');\n      fetchPayouts(); // 갱신\n    } catch (error) {\n      console.error('Failed to approve payout:', error);\n      alert('승인 처리에 실패했습니다.');\n    }\n  };\n\n  // 거절 처리\n  const handleReject = async (payoutId) => {\n    try {\n      await rejectInsurancePayment(payoutId); // API 호출\n      alert('지급 요청이 거절되었습니다.');\n      fetchPayouts(); // 갱신\n    } catch (error) {\n      console.error('Failed to reject payout:', error);\n      alert('거절 처리에 실패했습니다.');\n    }\n  };\n\n  // 컴포넌트가 마운트될 때 지급 요청 조회\n  useEffect(() => {\n    fetchPayouts();\n  }, []);\n\n  return (\n    <div>\n      <h1>보험금 지급 관리</h1>\n      {/* 보험금 지급 요청 테이블 */}\n      <div>\n        <h2>지급 요청 목록</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>요청 ID</th>\n              <th>고객 ID</th>\n              <th>보험 ID</th>\n              <th>지급 날짜</th>\n              <th>상태</th>\n              <th>액션</th>\n            </tr>\n          </thead>\n          <tbody>\n            {payouts.map((payout) => (\n              <tr key={payout.id}>\n                <td>{payout.id}</td>\n                <td>{payout.customerId}</td>\n                <td>{payout.insuranceId}</td>\n                <td>{payout.paymentDate}</td>\n                <td>{payout.status}</td>\n                <td>\n                  <button onClick={() => setSelectedPayout(payout)}>상세 보기</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* 선택된 지급 요청 상세 보기 */}\n      {selectedPayout && (\n        <div>\n          <h2>요청 상세</h2>\n          <p><strong>요청 ID:</strong> {selectedPayout.id}</p>\n          <p><strong>고객 ID:</strong> {selectedPayout.customerId}</p>\n          <p><strong>보험 ID:</strong> {selectedPayout.insuranceId}</p>\n          <p><strong>지급 날짜:</strong> {selectedPayout.paymentDate}</p>\n          <p><strong>지급 금액:</strong> {selectedPayout.amount}</p>\n          <p><strong>상태:</strong> {selectedPayout.status}</p>\n          <button onClick={() => handleApprove(selectedPayout.id)}>승인</button>\n          <button onClick={() => handleReject(selectedPayout.id)}>거절</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ManagePayouts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}