{"ast":null,"code":"// src/RequestInvestment.js\nimport React,{useEffect,useState}from'react';import{fetchContracts,requestAccidentInvestigation}from'../services/api';import'../styles/requestInvestment.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RequestInvestment(){const[contracts,setContracts]=useState([]);// 컴포넌트가 마운트될 때 계약 목록을 가져옵니다.\nuseEffect(()=>{loadContracts();},[]);// 계약 목록을 가져오는 함수\nconst loadContracts=async()=>{try{const data=await fetchContracts();setContracts(data);}catch(error){console.error('계약 목록을 가져오는 중 오류 발생:',error);alert('계약 목록을 가져오는 중 오류가 발생했습니다.');}};// 사고 조사 요청을 보내는 함수\nconst handleRequestInvestigation=async contractId=>{try{const message=await requestAccidentInvestigation(contractId);alert(message);// 서버로부터의 메시지 출력\n}catch(error){console.error('사고 조사 요청 중 오류 발생:',error);alert('사고 조사 요청에 실패하였습니다.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uACC4\\uC57D \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uACC4\\uC57D ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uACE0\\uAC1D ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uBCF4\\uD5D8 ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uACC4\\uC57D \\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uBCF4\\uD5D8\\uB8CC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD0DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC870\\uC0AC \\uC694\\uCCAD\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contracts.map(contract=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contract.id}),/*#__PURE__*/_jsx(\"td\",{children:contract.customerId}),/*#__PURE__*/_jsx(\"td\",{children:contract.insuranceId}),/*#__PURE__*/_jsx(\"td\",{children:contract.contractDate}),/*#__PURE__*/_jsx(\"td\",{children:contract.premium}),/*#__PURE__*/_jsx(\"td\",{children:contract.contractStatus||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRequestInvestigation(contract.id),children:\"\\uC0AC\\uACE0 \\uC870\\uC0AC \\uC694\\uCCAD\"})})]},contract.id))})]})]});}export default RequestInvestment;","map":{"version":3,"names":["React","useEffect","useState","fetchContracts","requestAccidentInvestigation","jsx","_jsx","jsxs","_jsxs","RequestInvestment","contracts","setContracts","loadContracts","data","error","console","alert","handleRequestInvestigation","contractId","message","children","map","contract","id","customerId","insuranceId","contractDate","premium","contractStatus","onClick"],"sources":["/Users/patrick/git/test/front-customer/src/pages/RequestInvestment.js"],"sourcesContent":["// src/RequestInvestment.js\nimport React, { useEffect, useState } from 'react';\nimport { fetchContracts, requestAccidentInvestigation } from '../services/api';\nimport '../styles/requestInvestment.css'\n\nfunction RequestInvestment() {\n  const [contracts, setContracts] = useState([]);\n\n  // 컴포넌트가 마운트될 때 계약 목록을 가져옵니다.\n  useEffect(() => {\n    loadContracts();\n  }, []);\n\n  // 계약 목록을 가져오는 함수\n  const loadContracts = async () => {\n    try {\n      const data = await fetchContracts();\n      setContracts(data);\n    } catch (error) {\n      console.error('계약 목록을 가져오는 중 오류 발생:', error);\n      alert('계약 목록을 가져오는 중 오류가 발생했습니다.');\n    }\n  };\n\n  // 사고 조사 요청을 보내는 함수\n  const handleRequestInvestigation = async (contractId) => {\n    try {\n      const message = await requestAccidentInvestigation(contractId);\n      alert(message); // 서버로부터의 메시지 출력\n    } catch (error) {\n      console.error('사고 조사 요청 중 오류 발생:', error);\n      alert('사고 조사 요청에 실패하였습니다.');\n    }\n  };\n\n  return (\n    <div>\n      <h1>계약 목록</h1>\n      <table>\n        <thead>\n          <tr>\n            <th>계약 ID</th>\n            <th>고객 ID</th>\n            <th>보험 ID</th>\n            <th>계약 날짜</th>\n            <th>보험료</th>\n            <th>상태</th>\n            <th>조사 요청</th>\n          </tr>\n        </thead>\n        <tbody>\n          {contracts.map((contract) => (\n            <tr key={contract.id}>\n              <td>{contract.id}</td>\n              <td>{contract.customerId}</td>\n              <td>{contract.insuranceId}</td>\n              <td>{contract.contractDate}</td>\n              <td>{contract.premium}</td>\n              <td>{contract.contractStatus || 'N/A'}</td>\n              <td>\n                <button onClick={() => handleRequestInvestigation(contract.id)}>\n                  사고 조사 요청\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default RequestInvestment;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,cAAc,CAAEC,4BAA4B,KAAQ,iBAAiB,CAC9E,MAAO,iCAAiC,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAE9C;AACAD,SAAS,CAAC,IAAM,CACdW,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAV,cAAc,CAAC,CAAC,CACnCQ,YAAY,CAACE,IAAI,CAAC,CACpB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CE,KAAK,CAAC,2BAA2B,CAAC,CACpC,CACF,CAAC,CAED;AACA,KAAM,CAAAC,0BAA0B,CAAG,KAAO,CAAAC,UAAU,EAAK,CACvD,GAAI,CACF,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAf,4BAA4B,CAACc,UAAU,CAAC,CAC9DF,KAAK,CAACG,OAAO,CAAC,CAAE;AAClB,CAAE,MAAOL,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzCE,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CACF,CAAC,CAED,mBACER,KAAA,QAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdZ,KAAA,UAAAY,QAAA,eACEd,IAAA,UAAAc,QAAA,cACEZ,KAAA,OAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAI,iBAAK,CAAI,CAAC,cACdd,IAAA,OAAAc,QAAA,CAAI,iBAAK,CAAI,CAAC,cACdd,IAAA,OAAAc,QAAA,CAAI,iBAAK,CAAI,CAAC,cACdd,IAAA,OAAAc,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdd,IAAA,OAAAc,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZd,IAAA,OAAAc,QAAA,CAAI,cAAE,CAAI,CAAC,cACXd,IAAA,OAAAc,QAAA,CAAI,2BAAK,CAAI,CAAC,EACZ,CAAC,CACA,CAAC,cACRd,IAAA,UAAAc,QAAA,CACGV,SAAS,CAACW,GAAG,CAAEC,QAAQ,eACtBd,KAAA,OAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAKE,QAAQ,CAACC,EAAE,CAAK,CAAC,cACtBjB,IAAA,OAAAc,QAAA,CAAKE,QAAQ,CAACE,UAAU,CAAK,CAAC,cAC9BlB,IAAA,OAAAc,QAAA,CAAKE,QAAQ,CAACG,WAAW,CAAK,CAAC,cAC/BnB,IAAA,OAAAc,QAAA,CAAKE,QAAQ,CAACI,YAAY,CAAK,CAAC,cAChCpB,IAAA,OAAAc,QAAA,CAAKE,QAAQ,CAACK,OAAO,CAAK,CAAC,cAC3BrB,IAAA,OAAAc,QAAA,CAAKE,QAAQ,CAACM,cAAc,EAAI,KAAK,CAAK,CAAC,cAC3CtB,IAAA,OAAAc,QAAA,cACEd,IAAA,WAAQuB,OAAO,CAAEA,CAAA,GAAMZ,0BAA0B,CAACK,QAAQ,CAACC,EAAE,CAAE,CAAAH,QAAA,CAAC,wCAEhE,CAAQ,CAAC,CACP,CAAC,GAXEE,QAAQ,CAACC,EAYd,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAEA,cAAe,CAAAd,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}