{"ast":null,"code":"// src/pages/InsuranceInquiry.js\nimport React,{useState}from'react';import{fetchInsuranceDetails}from'../services/api';import{useNavigate}from'react-router-dom';import'../styles/insuranceInquiry.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InsuranceInquiry=()=>{const[typeChoice,setTypeChoice]=useState('');const[insuranceData,setInsuranceData]=useState([]);const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setTypeChoice(e.target.value);};const handleSubmit=async e=>{e.preventDefault();try{// 서버가 \"type\" 형식으로 요청받으므로 매핑\nconst data=await fetchInsuranceDetails({type:typeChoice});if(data&&data.length>0){setInsuranceData(data);// 배열 데이터 설정\nsetError('');}else{setError('보험이 존재하지 않습니다.');setInsuranceData([]);}}catch(err){setError('서버와의 통신 에러 발생. 잠시 후 시도 해주세요.');setInsuranceData([]);}};const handleSelectInsurance=id=>{navigate('/subscription',{state:{insuranceId:id}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-inquiry\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uBCF4\\uD5D8 \\uC0C1\\uD488 \\uC870\\uD68C\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"inquiry-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uBCF4\\uD5D8 \\uD0C0\\uC785 \\uC120\\uD0DD:\",/*#__PURE__*/_jsxs(\"select\",{name:\"typeChoice\",value:typeChoice,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LIFE_INSURANCE\",children:\"\\uC0DD\\uBA85 \\uBCF4\\uD5D8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DAMAGE_INSURANCE\",children:\"\\uC190\\uD574 \\uBCF4\\uD5D8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"THIRD_INSURANCE\",children:\"\\uC81C 3\\uBCF4\\uD5D8\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"inquiry-button\",children:\"\\uC120\\uD0DD\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),insuranceData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBCF4\\uD5D8 \\uC0C1\\uD488 \\uC0C1\\uC138 \\uC815\\uBCF4\"}),insuranceData.map(insurance=>/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-card\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",insurance.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",insurance.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Premium:\"}),\" \",insurance.premium]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coverage:\"}),\" \",insurance.coverage]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Term:\"}),\" \",insurance.term]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Max Age:\"}),\" \",insurance.maxAge]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Exclusions:\"}),\" \",insurance.exclusions]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelectInsurance(insurance.id),className:\"select-insurance-button\",children:\"Select this Insurance\"})]},insurance.id))]})]});};export default InsuranceInquiry;","map":{"version":3,"names":["React","useState","fetchInsuranceDetails","useNavigate","jsx","_jsx","jsxs","_jsxs","InsuranceInquiry","typeChoice","setTypeChoice","insuranceData","setInsuranceData","error","setError","navigate","handleChange","e","target","value","handleSubmit","preventDefault","data","type","length","err","handleSelectInsurance","id","state","insuranceId","className","children","onSubmit","name","onChange","required","map","insurance","description","premium","coverage","term","maxAge","exclusions","onClick"],"sources":["/Users/patrick/git/test/front-customer/src/pages/InsuranceInquiry.js"],"sourcesContent":["// src/pages/InsuranceInquiry.js\nimport React, { useState } from 'react';\nimport { fetchInsuranceDetails } from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/insuranceInquiry.css';\n\nconst InsuranceInquiry = () => {\n  const [typeChoice, setTypeChoice] = useState('');\n  const [insuranceData, setInsuranceData] = useState([]);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setTypeChoice(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      // 서버가 \"type\" 형식으로 요청받으므로 매핑\n      const data = await fetchInsuranceDetails({ type: typeChoice });\n      if (data && data.length > 0) {\n        setInsuranceData(data); // 배열 데이터 설정\n        setError('');\n      } else {\n        setError('보험이 존재하지 않습니다.');\n        setInsuranceData([]);\n      }\n    } catch (err) {\n      setError('서버와의 통신 에러 발생. 잠시 후 시도 해주세요.');\n      setInsuranceData([]);\n    }\n  };\n\n  const handleSelectInsurance = (id) => {\n    navigate('/subscription', { state: { insuranceId: id } });\n  };\n\n  return (\n    <div className=\"insurance-inquiry\">\n      <h1>보험 상품 조회</h1>\n      <form onSubmit={handleSubmit} className=\"inquiry-form\">\n        <label>\n          보험 타입 선택:\n          <select\n            name=\"typeChoice\"\n            value={typeChoice}\n            onChange={handleChange}\n            required\n          >\n            <option value=\"\">선택</option>\n            <option value=\"LIFE_INSURANCE\">생명 보험</option>\n            <option value=\"DAMAGE_INSURANCE\">손해 보험</option>\n            <option value=\"THIRD_INSURANCE\">제 3보험</option>\n          </select>\n        </label>\n        <button type=\"submit\" className=\"inquiry-button\">\n          선택\n        </button>\n      </form>\n\n      {error && <p className=\"error-message\">{error}</p>}\n\n      {insuranceData.length > 0 && (\n        <div className=\"insurance-details\">\n          <h2>보험 상품 상세 정보</h2>\n          {insuranceData.map((insurance) => (\n            <div key={insurance.id} className=\"insurance-card\">\n              <p><strong>Name:</strong> {insurance.name}</p>\n              <p><strong>Description:</strong> {insurance.description}</p>\n              <p><strong>Premium:</strong> {insurance.premium}</p>\n              <p><strong>Coverage:</strong> {insurance.coverage}</p>\n              <p><strong>Term:</strong> {insurance.term}</p>\n              <p><strong>Max Age:</strong> {insurance.maxAge}</p>\n              <p><strong>Exclusions:</strong> {insurance.exclusions}</p>\n              <button\n                onClick={() => handleSelectInsurance(insurance.id)}\n                className=\"select-insurance-button\"\n              >\n                Select this Insurance\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InsuranceInquiry;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}